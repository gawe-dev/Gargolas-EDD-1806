[gd_scene load_steps=22 format=3 uid="uid://dyhp23o3d7744"]

[ext_resource type="PackedScene" uid="uid://bedho26bpm4cs" path="res://Player/Player.tscn" id="1_hfud2"]
[ext_resource type="AudioStream" uid="uid://bqpnh5sga6u8l" path="res://@Screens/Lvl2Gameplay/Gameplay.ogg" id="1_tbw7d"]
[ext_resource type="PackedScene" uid="uid://dns7e42aaycbw" path="res://@Commons/Blend/Cabildo.blend" id="2_0ibpx"]
[ext_resource type="PackedScene" uid="uid://d1xdseay0u3jk" path="res://@Commons/Blend/CasaE.blend" id="3_5epdt"]
[ext_resource type="PackedScene" uid="uid://r4t2o2xtvedi" path="res://@Commons/Blend/CasaL.blend" id="4_qdj53"]
[ext_resource type="PackedScene" uid="uid://cudmn4tk0gdrf" path="res://@Commons/Blend/CasaS.blend" id="5_ohi0k"]
[ext_resource type="PackedScene" uid="uid://hwtyetar2ijw" path="res://Boiler/Boiler.tscn" id="6_3452x"]
[ext_resource type="PackedScene" uid="uid://chm4kk02d5snm" path="res://Barrel/Barrel.tscn" id="7_tgot8"]
[ext_resource type="PackedScene" uid="uid://dhx4m4bykwvss" path="res://Staticbodies/Barricade/Barricade.tscn" id="8_cd6rf"]
[ext_resource type="PackedScene" uid="uid://da3mrwopjx8ek" path="res://@Commons/Blend/Recova.blend" id="9_x5wlf"]
[ext_resource type="PackedScene" uid="uid://dqdau0k3eifk1" path="res://TroopManagement/TroopManagement.tscn" id="10_73p5u"]
[ext_resource type="PackedScene" uid="uid://c6lmichtnv4av" path="res://Drops/PlacementDrop.tscn" id="11_fytew"]
[ext_resource type="PackedScene" uid="uid://c45cwd7u7i64m" path="res://WinLoseCondition/WinLose.tscn" id="12_0f3md"]
[ext_resource type="PackedScene" uid="uid://b63iywb03ygwr" path="res://MusketeerSpawner/SpawnMusketeer.tscn" id="12_xsm8x"]
[ext_resource type="PackedScene" uid="uid://266hoadaaper" path="res://Staticbodies/Stair/Stair.tscn" id="15_qk3x4"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_6f1m2"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_fidue"]
sky_material = SubResource("ProceduralSkyMaterial_6f1m2")

[sub_resource type="Environment" id="Environment_tawx4"]
background_mode = 2
sky = SubResource("Sky_fidue")
tonemap_mode = 2
fog_light_color = Color(0.627451, 0.254902, 0.0392157, 1)
fog_height_density = 4.2222

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rqgu5"]
albedo_color = Color(0.501961, 0.360784, 0.223529, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_v4piu"]
albedo_color = Color(0.5, 0, 0, 0.392157)

[sub_resource type="BoxMesh" id="BoxMesh_2qrpk"]
size = Vector3(0.1, 0.1, 0.1)

[node name="World2" type="Node"]

[node name="env" type="Node" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="env"]
environment = SubResource("Environment_tawx4")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="env"]
stream = ExtResource("1_tbw7d")
autoplay = true

[node name="StaticBodies" type="Node" parent="."]

[node name="Ground" type="CSGBox3D" parent="StaticBodies"]
visible = false
material_override = SubResource("StandardMaterial3D_rqgu5")
use_collision = true
size = Vector3(1000, 1, 1000)
metadata/_edit_lock_ = true

[node name="Cabildo2" parent="StaticBodies" instance=ExtResource("2_0ibpx")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.741794, 0.500001, -96.3306)

[node name="CasaE" parent="StaticBodies" instance=ExtResource("3_5epdt")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -30.4026, 0.5, 3.56939)

[node name="CasaE2" parent="StaticBodies" instance=ExtResource("3_5epdt")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 31.0116, 0.5, 0.40099)

[node name="CasaE3" parent="StaticBodies" instance=ExtResource("3_5epdt")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -4.44712, 0.5, -8.56584)

[node name="CasaL" parent="StaticBodies" instance=ExtResource("4_qdj53")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.5087, 0.499996, 3.05183)

[node name="CasaL4" parent="StaticBodies" instance=ExtResource("4_qdj53")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 5.19262, 0.499996, -10.8073)

[node name="CasaL2" parent="StaticBodies" instance=ExtResource("4_qdj53")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 29.4913, 0.499996, -5.76493)

[node name="CasaL8" parent="StaticBodies" instance=ExtResource("4_qdj53")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 29.4913, 0.499996, -5.76493)

[node name="CasaL3" parent="StaticBodies" instance=ExtResource("4_qdj53")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -29.0163, 0.499996, -4.12054)

[node name="CasaS" parent="StaticBodies" instance=ExtResource("5_ohi0k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.0311, 0.499995, 3.56034)

[node name="CasaL5" parent="StaticBodies" instance=ExtResource("4_qdj53")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 17.4447, 0.499988, -21.8589)

[node name="CasaS2" parent="StaticBodies" instance=ExtResource("5_ohi0k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 31.6232, 0.499995, -15.5034)

[node name="CasaS5" parent="StaticBodies" instance=ExtResource("5_ohi0k")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -30.6689, 0.499995, -18.4237)

[node name="CasaL6" parent="StaticBodies" instance=ExtResource("4_qdj53")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 6.7631, 0.499996, -33.8982)

[node name="CasaS3" parent="StaticBodies" instance=ExtResource("5_ohi0k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.4749, 0.499995, -30.4667)

[node name="CasaL7" parent="StaticBodies" instance=ExtResource("4_qdj53")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -9.21668, 0.499996, -35.4102)

[node name="CasaS4" parent="StaticBodies" instance=ExtResource("5_ohi0k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -21.5251, 0.499995, -30.4667)

[node name="CasaS7" parent="StaticBodies" instance=ExtResource("5_ohi0k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -21.5251, 0.499995, -19.0809)

[node name="CasaE4" parent="StaticBodies" instance=ExtResource("3_5epdt")]
transform = Transform3D(1, 0, -7.10543e-15, 0, 1, 0, 7.10543e-15, 0, 1, 29.2719, 0.5, 17.3138)

[node name="CasaE5" parent="StaticBodies" instance=ExtResource("3_5epdt")]
transform = Transform3D(1, 0, -7.10543e-15, 0, 1, 0, 7.10543e-15, 0, 1, -30.3744, 0.5, 22.4966)

[node name="CasaE6" parent="StaticBodies" instance=ExtResource("3_5epdt")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 7.89498, 0.5, 24.3809)

[node name="CasaL9" parent="StaticBodies" instance=ExtResource("4_qdj53")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 11.0032, 0.499996, 11.4522)

[node name="CasaL10" parent="StaticBodies" instance=ExtResource("4_qdj53")]
transform = Transform3D(1.31134e-07, 0, 1, 0, 1, 0, -1, 0, 1.31134e-07, -7.67084, 0.499996, 25.1746)

[node name="CasaL11" parent="StaticBodies" instance=ExtResource("4_qdj53")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -28.8541, 0.499996, 29.9672)

[node name="CasaL12" parent="StaticBodies" instance=ExtResource("4_qdj53")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 27.8855, 0.499996, 25.0038)

[node name="CasaS6" parent="StaticBodies" instance=ExtResource("5_ohi0k")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -10.5366, 0.499995, 10.9437)

[node name="Boiler" parent="StaticBodies" instance=ExtResource("6_3452x")]
transform = Transform3D(-0.843794, 0, 0.536667, 0, 1, 0, -0.536667, 0, -0.843794, -27.4957, 6.13266, 22.4803)

[node name="Boiler2" parent="StaticBodies" instance=ExtResource("6_3452x")]
transform = Transform3D(0.785112, 0, 0.619354, 0, 1, 0, -0.619354, 0, 0.785112, 5.83719, 3.52911, 4.54223)

[node name="Boiler3" parent="StaticBodies" instance=ExtResource("6_3452x")]
transform = Transform3D(0.910511, 0, 0.413486, 0, 1, 0, -0.413486, 0, 0.910511, 26.4455, 4.10437, 28.1814)

[node name="Barrel" parent="StaticBodies" instance=ExtResource("7_tgot8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.0326, 1, 7.05877)

[node name="Barrel4" parent="StaticBodies" instance=ExtResource("7_tgot8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.8324, 1, 7.05877)

[node name="Barrel2" parent="StaticBodies" instance=ExtResource("7_tgot8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.21089, 0.500001, -15.7316)

[node name="Barrel3" parent="StaticBodies" instance=ExtResource("7_tgot8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.56211, 0.500001, -16.3687)

[node name="Player" parent="." instance=ExtResource("1_hfud2")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.84193, 21.5065, -99.0361)

[node name="Left" type="Node" parent="."]

[node name="Barricade3" parent="Left" instance=ExtResource("8_cd6rf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20.5143, 0.5, 17.4745)

[node name="Barricade4" parent="Left" instance=ExtResource("8_cd6rf")]
transform = Transform3D(0.953381, 0, -0.301771, 0, 1, 0, 0.301771, 0, 0.953381, -20.7929, 0.5, -5.35755)

[node name="Mid" type="Node" parent="."]

[node name="Barricade" parent="Mid" instance=ExtResource("8_cd6rf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 19.5793)

[node name="Barricade2" parent="Mid" instance=ExtResource("8_cd6rf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, -4.55177)

[node name="Right" type="Node" parent="."]

[node name="Barricade3" parent="Right" instance=ExtResource("8_cd6rf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.7275, 0.5, 22.6059)

[node name="Barricade4" parent="Right" instance=ExtResource("8_cd6rf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.7275, 0.5, -1.52516)

[node name="BarricadeFinal" parent="." instance=ExtResource("8_cd6rf")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, -28.9781)

[node name="Recova2" parent="." instance=ExtResource("9_x5wlf")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, -48)

[node name="TroopManagement" parent="." instance=ExtResource("10_73p5u")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -0.623463, 0.500015, 44.6908)

[node name="Flag1" parent="TroopManagement/Wave0/SpawnMusketeer" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.71556e-06, 0, 113.194)

[node name="Wave1" type="Node3D" parent="TroopManagement"]

[node name="SpawnMusketeerRight" parent="TroopManagement/Wave1" instance=ExtResource("12_xsm8x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -21, 0, 0)
laneAttack = "Right"

[node name="Flag1" parent="TroopManagement/Wave1/SpawnMusketeerRight" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.90735e-06, 0, 55.2376)

[node name="Cover" type="MeshInstance3D" parent="TroopManagement/Wave1/SpawnMusketeerRight/Flag1" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.50073, 0.05, -42.1328)
material_override = SubResource("StandardMaterial3D_v4piu")
mesh = SubResource("BoxMesh_2qrpk")

[node name="SpawnMusketeer" parent="TroopManagement/Wave1" instance=ExtResource("12_xsm8x")]

[node name="Flag1" parent="TroopManagement/Wave1/SpawnMusketeer" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.71556e-06, 0, 113.194)

[node name="SpawnMusketeerLeft" parent="TroopManagement/Wave1" instance=ExtResource("12_xsm8x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.3742, 0, 0)
laneAttack = "Left"

[node name="Flag1" parent="TroopManagement/Wave1/SpawnMusketeerLeft" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.53674e-06, 0, 54.0136)

[node name="Cover" type="MeshInstance3D" parent="TroopManagement/Wave1/SpawnMusketeerLeft/Flag1" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.37772, 3.93682, -36.9225)
material_override = SubResource("StandardMaterial3D_v4piu")
mesh = SubResource("BoxMesh_2qrpk")

[node name="Flag2" type="Node3D" parent="TroopManagement/Wave1/SpawnMusketeerLeft"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.7744, 0, 72.3475)

[node name="Point" type="MeshInstance3D" parent="TroopManagement/Wave1/SpawnMusketeerLeft/Flag2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.05, 0)
material_override = SubResource("StandardMaterial3D_v4piu")
mesh = SubResource("BoxMesh_2qrpk")

[node name="Flag3" type="Node3D" parent="TroopManagement/Wave1/SpawnMusketeerLeft"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.7744, 0, 79.177)

[node name="Point" type="MeshInstance3D" parent="TroopManagement/Wave1/SpawnMusketeerLeft/Flag3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.05, 0)
material_override = SubResource("StandardMaterial3D_v4piu")
mesh = SubResource("BoxMesh_2qrpk")

[node name="Drops" parent="." instance=ExtResource("11_fytew")]
unique_name_in_owner = true

[node name="LoseArea" parent="." instance=ExtResource("12_0f3md")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 1.32986, 0.809474, -32.4615)

[node name="Stair" parent="." instance=ExtResource("15_qk3x4")]
transform = Transform3D(-0.489531, 0.0241904, -0.87165, 0.0493553, 0.998781, 1.86265e-09, 0.870588, -0.0430206, -0.490128, -13.5885, -2.06529, 29.9142)

[connection signal="finished" from="env/AudioStreamPlayer" to="LoseArea" method="_on_audio_stream_player_finished"]

[editable path="TroopManagement"]
[editable path="TroopManagement/Wave0/SpawnMusketeer"]
[editable path="TroopManagement/Wave1/SpawnMusketeerRight"]
[editable path="TroopManagement/Wave1/SpawnMusketeer"]
[editable path="TroopManagement/Wave1/SpawnMusketeerLeft"]
